<html>
<head>
  <meta charset="utf-8">
  <title>Cloudinary Tutorial</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  
</head>

<body>
  <div class="card">
    <img src="http://fillmurray.com/g/300/300" id="img-preview" />
    <label class="file-upload-container" for="file-upload">
      <input id="file-upload" type="file" style="display:none;">
      Select an Image
    </label>

    </label>
  </div>
  <!-- Scripts -->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>
      var CLOUDINARY = "https://api.cloudinary.com/v1_1/dukdfuywh/upload";
      var CLOUDINARY_UPLOAD_PRESET = "fxdiq2wt";


      var imgPreview = document.getElementById('img-preview');
      var fileUpload = document.getElementById('file-upload');

      fileUpload.addEventListener('change', function (event) {
          var file = event.target.files[0];
          var formData = new FormData();
          formData.append('file', file);
          formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);
          console.log(formData);

          axios({
              url: CLOUDINARY,
              method: 'POST',
              headers: {
                  'Content-Type': 'application/x-www-form-urlencoded'
              },
      
              data: formData
          }).then(function(res){
              console.log(res);
              console.log(res.data.secure_url);
              imgPreview.src = res.data.secure_url;

          
          }).catch(function(err){
              console.log(err);
          })
      });
</script>
</body>
</html>