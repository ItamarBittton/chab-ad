<html>
<head>
  <meta charset="utf-8">
  <title>Cloudinary Tutorial</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <style>
      body, html {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #F5F5F5;
    }
    .card {
      background: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;
    }

    .file-upload-container {
        width: 100%;
        height: 50px;
        overflow: hidden;
        background: #3F51B5;
        user-select: none;
        transition: all 150ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;
        text-align: center;
        color: white;
        line-height: 50px;
        font-weight: 300;
        font-size: 20px;
    }

    .file-upload-container:hover {
        cursor: pointer;
        background: #3949AB;
    }
</style>
</head>

<body>
  <div class="card">
    <img src="http://fillmurray.com/g/300/300" id="img-preview" />
    <label class="file-upload-container" for="file-upload">
      <input id="file-upload" type="file" style="display:none;">
      Select an Image
    </label>

    <input id="date" type="date">

    </label>
  </div>
  <!-- Scripts -->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>
      var CLOUDINARY = "https://api.cloudinary.com/v1_1/dukdfuywh/upload";
      var CLOUDINARY_UPLOAD_PRESET = "fxdiq2wt";


      var imgPreview = document.getElementById('img-preview');
      var fileUpload = document.getElementById('file-upload');

      fileUpload.addEventListener('change', function (event) {
          var file = event.target.files[0];
          var formData = new FormData();
          formData.append('file', file);
          formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);
          console.log(formData);

          axios({
              url: CLOUDINARY,
              method: 'POST',
              headers: {
                  'Content-Type': 'application/x-www-form-urlencoded'
              },
      
              data: formData
          }).then(function(res){
              console.log(res);
              imgPreview.src = res.data.secure_url;
          
          }).catch(function(err){
              console.log(err);
          })
      });
</script>
</body>
</html>